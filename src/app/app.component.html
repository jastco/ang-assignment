<nav class="navbar navbar-expand-lg navbar-dark bg-primary">
  <div class="container-fluid">
    <span class="navbar-brand">Test App</span>
    <button
      class="navbar-toggler"
      type="button"
      aria-controls="navbarContent"
      [attr.aria-expanded]="!collapsed"
      aria-label="Toggle navigation"
      (click)="collapsed = !collapsed"
    >
      <span class="navbar-toggler-icon"></span>
    </button>

    <div
      class="navbar-collapse"
      [class.collapse]="collapsed"
      id="navbarContent"
    >
      <ul class="navbar-nav ms-auto">
        <li class="nav-item" ngbDropdown>
          <a
            class="nav-link"
            tabindex="0"
            ngbDropdownToggle
            id="navbarDropdown2"
            role="button"
          >
            Menu
          </a>
          <div
            ngbDropdownMenu
            aria-labelledby="navbarDropdown2"
            class="dropdown-menu dropdown-menu-end"
          >
            <a ngbDropdownItem href="#" (click)="reset()">Reset</a>
            <a ngbDropdownItem href="#" (click)="$event.preventDefault()"
              >Menu 2</a
            >
            <a ngbDropdownItem href="#" (click)="$event.preventDefault()"
              >Menu 3</a
            >
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>
<div class="container">
  <ng-container *ngIf="users$ | async as users; else loadingTemplate">
    <ng-container *ngIf="users.length > 0; else noUsersTemplate">
      <div class="row">
        <div class="col">
          <h4 class="mt-3">Showing {{ users?.length }} Records</h4>
        </div>
      </div>
      <div class="row">
        <ng-container *ngFor="let user of users">
          <div class="col-md-4">
            <!-- component refactor start -->
            <div class="card mt-4">
              <div class="card-body">
                <h5 class="card-title">{{ user.name }}</h5>
                <p class="card-text">
                  {{ user.address?.street }} {{ user.address?.suite }}<br />
                  {{ user.address?.city }} {{ user.address?.zipcode }}
                </p>
                <div class="d-flex flex-row-reverse">
                  <button
                    type="button"
                    class="btn btn-sm btn-outline-danger"
                    (click)="deleteUser(user)"
                  >
                    <fa-icon [icon]="faTrash"></fa-icon> Delete
                  </button>
                </div>
              </div>
            </div>
            <!-- component refactor end -->
          </div>
        </ng-container>
      </div>
    </ng-container>
  </ng-container>

  <ng-template #noUsersTemplate>
    <p>No users! What happened!</p>
  </ng-template>

  <ng-template #loadingTemplate>
    <p>Fetching users...</p>
  </ng-template>

  <ng-template #errorTemplate>
    <p>An error occurred!</p>
  </ng-template>

  <router-outlet></router-outlet>
</div>
